.scene-root {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  border-radius: 4px;
}

/* All layers stack absolutely */
.scene-layer {
  position: absolute;
  inset: 0;
}

/* Layer ordering */
.layer-background { z-index: 1; }
.layer-window     { z-index: 2; pointer-events: none; }
.layer-objects    { z-index: 3; }
.layer-overlay    { z-index: 4; pointer-events: none; mix-blend-mode: multiply; }
.layer-vignette   { z-index: 5; pointer-events: none; }

/* Vignette */
.layer-vignette {
  background: radial-gradient(
    ellipse 80% 80% at 50% 50%,
    transparent 40%,
    rgba(0, 0, 0, 0.5) 100%
  );
}

/* ============ Window frame ============ */
.window-frame {
  position: absolute;
  inset: 0;
}

.window-cross-h {
  position: absolute;
  top: 50%;
  left: 0; right: 0;
  height: 14px;
  background: linear-gradient(180deg, #3a2e22 0%, #4a3a2a 50%, #2e2418 100%);
  transform: translateY(-50%);
  box-shadow: 0 2px 8px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,220,150,0.15);
}

.window-cross-v {
  position: absolute;
  left: 50%;
  top: 0; bottom: 0;
  width: 14px;
  background: linear-gradient(90deg, #3a2e22 0%, #4a3a2a 50%, #2e2418 100%);
  transform: translateX(-50%);
  box-shadow: 2px 0 8px rgba(0,0,0,0.6), inset 1px 0 0 rgba(255,220,150,0.15);
}

.window-sill {
  position: absolute;
  bottom: 0; left: 0; right: 0;
  height: 22px;
  background: linear-gradient(180deg, #4a3a2a 0%, #3a2e20 60%, #241e15 100%);
  box-shadow: 0 -2px 12px rgba(0,0,0,0.8);
}

.window-pane {
  position: absolute;
  border: 12px solid transparent;
}

.window-pane.top-left    { top: 0; left: 0; right: 50%; bottom: 50%; }
.window-pane.top-right   { top: 0; left: 50%; right: 0; bottom: 50%; }
.window-pane.bottom-left { top: 50%; left: 0; right: 50%; bottom: 0; }
.window-pane.bottom-right{ top: 50%; left: 50%; right: 0; bottom: 0; }

/* Glass reflection shimmer on each pane */
.window-pane::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.06) 0%,
    transparent 40%,
    rgba(255, 255, 255, 0.02) 100%
  );
  pointer-events: none;
}

/* ============ Forest background details ============ */
.detail-moon {
  position: absolute;
  top: 12%;
  right: 22%;
  width: 48px;
  height: 48px;
  background: radial-gradient(circle, #fffae0 0%, #f5e8a0 60%, #c8b84020 100%);
  border-radius: 50%;
  box-shadow: 0 0 40px 12px rgba(255, 240, 160, 0.25), 0 0 80px 30px rgba(255, 230, 120, 0.1);
}

.detail-trees {
  position: absolute;
  bottom: 0; left: 0; right: 0;
  height: 55%;
  background:
    /* Far trees */
    radial-gradient(ellipse 6% 20% at 15% 100%, #0d1a0d 0%, transparent 100%),
    radial-gradient(ellipse 8% 30% at 25% 100%, #0a160a 0%, transparent 100%),
    radial-gradient(ellipse 6% 22% at 38% 100%, #0d1a0d 0%, transparent 100%),
    radial-gradient(ellipse 10% 35% at 55% 100%, #081408 0%, transparent 100%),
    radial-gradient(ellipse 7% 25% at 68% 100%, #0a160a 0%, transparent 100%),
    radial-gradient(ellipse 8% 28% at 78% 100%, #0d1a0d 0%, transparent 100%),
    radial-gradient(ellipse 6% 20% at 88% 100%, #0a160a 0%, transparent 100%);
}

.detail-star {
  position: absolute;
  background: #fff;
  border-radius: 50%;
  animation: twinkle 2s ease-in-out infinite alternate;
}

@keyframes twinkle {
  from { opacity: 0.2; transform: scale(0.8); }
  to   { opacity: 0.9; transform: scale(1.2); }
}

/* ============ Snowy details ============ */
.detail-snow-ground {
  position: absolute;
  bottom: 0; left: 0; right: 0;
  height: 30%;
  background: linear-gradient(180deg, transparent 0%, rgba(220, 235, 245, 0.6) 100%);
}

.detail-snowflake {
  position: absolute;
  top: -20px;
  color: rgba(255, 255, 255, 0.7);
  animation: snowfall linear infinite;
  user-select: none;
}
.detail-snowflake::before {
  content: '‚ùÑ';
}
@keyframes snowfall {
  from { transform: translateY(-20px) rotate(0deg); opacity: 0; }
  10%  { opacity: 1; }
  90%  { opacity: 0.8; }
  to   { transform: translateY(100vh) rotate(360deg); opacity: 0; }
}

/* ============ Rainy city details ============ */
.detail-city-lights {
  position: absolute;
  bottom: 0; left: 0; right: 0;
  height: 60%;
  background:
    radial-gradient(ellipse 5% 10% at 10% 70%, rgba(255, 220, 100, 0.3) 0%, transparent 100%),
    radial-gradient(ellipse 3% 6% at 20% 65%, rgba(100, 180, 255, 0.2) 0%, transparent 100%),
    radial-gradient(ellipse 6% 12% at 35% 75%, rgba(255, 150, 80, 0.25) 0%, transparent 100%),
    radial-gradient(ellipse 4% 8% at 55% 68%, rgba(200, 220, 255, 0.2) 0%, transparent 100%),
    radial-gradient(ellipse 5% 10% at 70% 72%, rgba(255, 200, 100, 0.25) 0%, transparent 100%),
    radial-gradient(ellipse 3% 6% at 82% 67%, rgba(150, 200, 255, 0.2) 0%, transparent 100%),
    radial-gradient(ellipse 4% 8% at 92% 74%, rgba(255, 180, 60, 0.2) 0%, transparent 100%);
}

.detail-raindrop {
  position: absolute;
  top: 0;
  width: 1px;
  background: linear-gradient(180deg, transparent 0%, rgba(160, 200, 255, 0.5) 100%);
  animation: raindrop linear infinite;
}
@keyframes raindrop {
  from { transform: translateY(-20px); opacity: 0; }
  10%  { opacity: 1; }
  to   { transform: translateY(100vh); opacity: 0.3; }
}

/* ============ Autumn details ============ */
.detail-leaf {
  position: absolute;
  top: -20px;
  animation: leafFall ease-in-out infinite;
  user-select: none;
}
.detail-leaf::before {
  content: 'üçÇ';
}
@keyframes leafFall {
  0%   { transform: translateY(-20px) rotate(0deg) translateX(0); opacity: 0; }
  10%  { opacity: 1; }
  50%  { transform: translateY(45vh) rotate(180deg) translateX(30px); }
  90%  { opacity: 0.8; }
  100% { transform: translateY(100vh) rotate(360deg) translateX(-20px); opacity: 0; }
}